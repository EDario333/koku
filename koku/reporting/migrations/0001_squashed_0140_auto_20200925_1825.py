# Generated by Django 2.2.15 on 2020-09-28 14:16
import pkgutil
import uuid
from decimal import Decimal

import django.contrib.postgres.fields.jsonb
import django.contrib.postgres.indexes
import django.db.models.deletion
from django.db import connection
from django.db import migrations
from django.db import models

import reporting.partition.models
from koku import migration_sql_helpers as msh
from koku import pg_partition as ppart
from reporting.provider.all.openshift.models import VIEWS as OCP_ALL_VIEWS
from reporting.provider.aws.models import VIEWS as AWS_VIEWS
from reporting.provider.aws.openshift.models import VIEWS as OCP_AWS_VIEWS
from reporting.provider.azure.models import VIEWS as AZURE_VIEWS
from reporting.provider.azure.openshift.models import VIEWS as OCP_AZURE_VIEWS
from reporting.provider.ocp.models import VIEWS as OCP_VIEWS


def add_views(apps, schema_editor):
    """Create database VIEWS from files."""
    for view in AWS_VIEWS:
        view_sql = pkgutil.get_data("reporting.provider.aws", f"sql/views/{view}.sql")
        view_sql = view_sql.decode("utf-8")
        with connection.cursor() as cursor:
            cursor.execute(view_sql)

    for view in AZURE_VIEWS:
        view_sql = pkgutil.get_data("reporting.provider.azure", f"sql/views/{view}.sql")
        view_sql = view_sql.decode("utf-8")
        with connection.cursor() as cursor:
            cursor.execute(view_sql)

    for view in OCP_VIEWS:
        view_sql = pkgutil.get_data("reporting.provider.ocp", f"sql/views/{view}.sql")
        view_sql = view_sql.decode("utf-8")
        with connection.cursor() as cursor:
            cursor.execute(view_sql)

    for view in OCP_AWS_VIEWS:
        view_sql = pkgutil.get_data("reporting.provider.aws.openshift", f"sql/views/{view}.sql")
        view_sql = view_sql.decode("utf-8")
        with connection.cursor() as cursor:
            cursor.execute(view_sql)

    for view in OCP_AZURE_VIEWS:
        view_sql = pkgutil.get_data("reporting.provider.azure.openshift", f"sql/views/{view}.sql")
        view_sql = view_sql.decode("utf-8")
        with connection.cursor() as cursor:
            cursor.execute(view_sql)

    for view in OCP_ALL_VIEWS:
        view_sql = pkgutil.get_data("reporting.provider.all.openshift", f"sql/views/{view}.sql")
        view_sql = view_sql.decode("utf-8")
        with connection.cursor() as cursor:
            cursor.execute(view_sql)


# =====================================================
# Change reporting_ocpusagelineitem_daily_summary
# to a partitioned table with the same definition
# =====================================================
def convert_ocpusage_lids_to_partitioned(apps, schema_editor):
    # Resolve the current schema name
    target_schema = ppart.resolve_schema(ppart.CURRENT_SCHEMA)
    # This is the table we will model from
    source_table = "reporting_ocpusagelineitem_daily_summary"
    # This is the target table's name (it will be renamed during the conversion to the source table name)
    target_table = f"p_{source_table}"
    # We'll want a new sequence copied from the original sequence
    new_seq = ppart.SequenceDefinition(
        target_schema,
        f"{target_table}_id_seq",
        copy_sequence={"schema_name": target_schema, "table_name": source_table, "column_name": "id"},
    )
    # We want to change the target tables's 'id' column default
    target_identity_col = ppart.ColumnDefinition(target_schema, target_table, "id", default=ppart.Default(new_seq))
    # We also need to include the identity col as part of the primary key definition
    new_pk = ppart.PKDefinition(f"{target_table}_pkey", ["usage_start", "id"])
    # Init the converter
    p_converter = ppart.ConvertToPartition(
        source_table,
        "usage_start",
        target_table_name=target_table,
        partition_type=ppart.PARTITION_RANGE,
        pk_def=new_pk,
        col_def=[target_identity_col],
        target_schema=target_schema,
        source_schema=target_schema,
    )
    # Push the button, Frank.
    p_converter.convert_to_partition()


# =====================================================
# Change reporting_awscostentrylineitem_daily_summary
# to a partitioned table with the same definition
# =====================================================
def convert_awscostentry_lids_to_partitioned(apps, schema_editor):
    # Resolve the current schema name
    target_schema = ppart.resolve_schema(ppart.CURRENT_SCHEMA)
    # This is the table we will model from
    source_table = "reporting_awscostentrylineitem_daily_summary"
    # This is the target table's name (it will be renamed during the conversion to the source table name)
    target_table = f"p_{source_table}"
    # We'll want a new sequence copied from the original sequence
    new_seq = ppart.SequenceDefinition(
        target_schema,
        f"{target_table}_id_seq",
        copy_sequence={"schema_name": target_schema, "table_name": source_table, "column_name": "id"},
    )
    # We want to change the target tables's 'id' column default
    target_identity_col = ppart.ColumnDefinition(target_schema, target_table, "id", default=ppart.Default(new_seq))
    # We also need to include the identity col as part of the primary key definition
    new_pk = ppart.PKDefinition(f"{target_table}_pkey", ["usage_start", "id"])
    # Init the converter
    p_converter = ppart.ConvertToPartition(
        source_table,
        "usage_start",
        target_table_name=target_table,
        partition_type=ppart.PARTITION_RANGE,
        pk_def=new_pk,
        col_def=[target_identity_col],
        target_schema=target_schema,
        source_schema=target_schema,
    )
    # Push the button, Frank.
    p_converter.convert_to_partition()


# =====================================================
# Change reporting_azurecostentrylineitem_daily_summary
# to a partitioned table with the same definition
# =====================================================
def convert_azurecostentry_lids_to_partitioned(apps, schema_editor):
    # Resolve the current schema name
    target_schema = ppart.resolve_schema(ppart.CURRENT_SCHEMA)
    # This is the table we will model from
    source_table = "reporting_azurecostentrylineitem_daily_summary"
    # This is the target table's name (it will be renamed during the conversion to the source table name)
    target_table = f"p_{source_table}"
    # We'll want a new sequence copied from the original sequence
    new_seq = ppart.SequenceDefinition(
        target_schema,
        f"{target_table}_id_seq",
        copy_sequence={"schema_name": target_schema, "table_name": source_table, "column_name": "id"},
    )
    # We want to change the target tables's 'id' column default
    target_identity_col = ppart.ColumnDefinition(target_schema, target_table, "id", default=ppart.Default(new_seq))
    # We also need to include the identity col as part of the primary key definition
    new_pk = ppart.PKDefinition(f"{target_table}_pkey", ["usage_start", "id"])
    # Init the converter
    p_converter = ppart.ConvertToPartition(
        source_table,
        "usage_start",
        target_table_name=target_table,
        partition_type=ppart.PARTITION_RANGE,
        pk_def=new_pk,
        col_def=[target_identity_col],
        target_schema=target_schema,
        source_schema=target_schema,
    )
    # Push the button, Frank.
    p_converter.convert_to_partition()


def apply_partitioned_table_triggers(apps, schema_editor):
    path = msh.find_db_functions_dir()
    for funcfile in ("partitioned_tables_manage_trigger.sql", "partitioned_tables_active_trigger.sql"):
        msh.apply_sql_file(schema_editor, os.path.join(path, funcfile))


class Migration(migrations.Migration):

    replaces = [
        ("reporting", "0001_squashed_0090_ocpallcostlineitemdailysummary_ocpallcostlineitemprojectdailysummary"),
        ("reporting", "0091_aws_compute_cost_correction"),
        ("reporting", "0092_auto_20200203_1758"),
        ("reporting", "0093_auto_20200210_1920"),
        ("reporting", "0094_auto_20200211_1449"),
        ("reporting", "0095_auto_20200212_1606"),
        ("reporting", "0096_auto_20200218_2227"),
        ("reporting", "0097_auto_20200221_1331"),
        ("reporting", "0098_auto_20200221_2034"),
        ("reporting", "0099_ocp_performance"),
        ("reporting", "0100_aws_azure_query_perforance"),
        ("reporting", "0101_ocpenabledtagkeys"),
        ("reporting", "0102_auto_20200228_1812"),
        (
            "reporting",
            "0103_azurecomputesummary_azurecostsummary_azurecostsummarybyaccount_azurecostsummarybylocation_azurecosts",
        ),
        (
            "reporting",
            "0104_ocpallcomputesummary_ocpallcostsummary_ocpallcostsummarybyaccount_ocpallcostsummarybyregion_ocpallco",
        ),
        (
            "reporting",
            "0105_ocpcostsummary_ocpcostsummarybynode_ocpcostsummarybyproject_ocppodsummary_ocppodsummarybyproject_ocp",
        ),
        ("reporting", "0106_ocpawscostsummary"),
        (
            "reporting",
            "0107_ocpazurecomputesummary_ocpazurecostsummary_ocpazurecostsummarybyaccount_ocpazurecostsummarybylocatio",
        ),
        ("reporting", "0108_auto_20200405_1316"),
        ("reporting", "0109_remove_ocpusagelineitemdailysummary_pod"),
        ("reporting", "0110_summary_indexes"),
        ("reporting", "0111_drop_azure_service_not_null"),
        ("reporting", "0112_auto_20200416_1733"),
        ("reporting", "0113_aws_organizational_units"),
        ("reporting", "0114_adding_source_uuid"),
        ("reporting", "0115_populate_source_uuid"),
        ("reporting", "0116_ocpall_unique_index"),
        ("reporting", "0117_auto_20200617_1452"),
        ("reporting", "0118_auto_20200630_1819"),
        ("reporting", "0119_auto_20200707_1934"),
        ("reporting", "0120_auto_20200724_1354"),
        ("reporting", "0121_auto_20200728_2258"),
        ("reporting", "0122_auto_20200803_2307"),
        ("reporting", "0123_auto_20200727_2302"),
        ("reporting", "0124_auto_20200806_1943"),
        ("reporting", "0125_azure_unit_normalization"),
        ("reporting", "0126_clear_org_units"),
        ("reporting", "0127_ocpazure_unit_normalization"),
        ("reporting", "0128_auto_20200820_1540"),
        ("reporting", "0129_partitioned_daily_summary"),
        ("reporting", "0130_auto_20200826_1819"),
        ("reporting", "0131_auto_20200827_1253"),
        ("reporting", "0132_auto_20200901_1811"),
        ("reporting", "0133_auto_20200901_2245"),
        ("reporting", "0134_auto_20200902_1602"),
        ("reporting", "0135_auto_20200902_1808"),
        ("reporting", "0136_auto_20200909_1400"),
        ("reporting", "0137_partitioned_tables_triggers"),
        ("reporting", "0138_auto_20200918_1724"),
        ("reporting", "0139_auto_20200925_1432"),
        ("reporting", "0140_auto_20200925_1825"),
    ]

    initial = True

    dependencies = [
        ("api", "0025_db_functions"),
        ("api", "0028_public_function_update"),
        ("api", "0009_providerstatus_squashed_0042_auto_20200116_2048"),
        ("api", "0001_initial_squashed_0008_auto_20190305_2015"),
    ]

    operations = [
        migrations.CreateModel(
            name="AWSAccountAlias",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("account_id", models.CharField(max_length=50, unique=True)),
                ("account_alias", models.CharField(max_length=63, null=True)),
            ],
        ),
        migrations.CreateModel(
            name="AWSCostEntryBill",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("billing_resource", models.CharField(default="aws", max_length=50)),
                ("bill_type", models.CharField(max_length=50)),
                ("payer_account_id", models.CharField(max_length=50)),
                ("billing_period_start", models.DateTimeField()),
                ("billing_period_end", models.DateTimeField()),
                ("finalized_datetime", models.DateTimeField(null=True)),
                ("summary_data_creation_datetime", models.DateTimeField(null=True)),
                ("summary_data_updated_datetime", models.DateTimeField(null=True)),
                ("derived_cost_datetime", models.DateTimeField(null=True)),
                ("provider", models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="api.Provider")),
            ],
            options={"unique_together": {("bill_type", "payer_account_id", "billing_period_start", "provider")}},
        ),
        migrations.CreateModel(
            name="AWSCostEntry",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("interval_start", models.DateTimeField()),
                ("interval_end", models.DateTimeField()),
                (
                    "bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntryBill"),
                ),
            ],
        ),
        migrations.AddIndex(
            model_name="awscostentry", index=models.Index(fields=["interval_start"], name="interval_start_idx")
        ),
        migrations.CreateModel(
            name="AWSCostEntryPricing",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("term", models.CharField(max_length=63, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
            ],
            options={"unique_together": {("term", "unit")}},
        ),
        migrations.CreateModel(
            name="AWSCostEntryProduct",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("sku", models.CharField(max_length=128, null=True)),
                ("product_name", models.TextField(null=True)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("service_code", models.CharField(max_length=50, null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("memory", models.FloatField(null=True)),
                ("memory_unit", models.CharField(max_length=24, null=True)),
                ("vcpu", models.PositiveIntegerField(null=True)),
            ],
            options={"unique_together": {("sku", "product_name", "region")}},
        ),
        migrations.AddIndex(
            model_name="awscostentryproduct", index=models.Index(fields=["region"], name="region_idx")
        ),
        migrations.CreateModel(
            name="AWSCostEntryReservation",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("reservation_arn", models.TextField(unique=True)),
                ("number_of_reservations", models.PositiveIntegerField(null=True)),
                ("units_per_reservation", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("start_time", models.DateTimeField(null=True)),
                ("end_time", models.DateTimeField(null=True)),
            ],
        ),
        migrations.CreateModel(
            name="AWSCostEntryLineItem",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("tags", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("invoice_id", models.CharField(max_length=63, null=True)),
                ("line_item_type", models.CharField(max_length=50)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("product_code", models.CharField(max_length=50)),
                ("usage_type", models.CharField(max_length=50, null=True)),
                ("operation", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("resource_id", models.CharField(max_length=256, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("normalization_factor", models.FloatField(null=True)),
                ("normalized_usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
                ("unblended_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("blended_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("blended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("public_on_demand_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("public_on_demand_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("reservation_amortized_upfront_fee", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                (
                    "reservation_amortized_upfront_cost_for_usage",
                    models.DecimalField(decimal_places=9, max_digits=24, null=True),
                ),
                (
                    "reservation_recurring_fee_for_usage",
                    models.DecimalField(decimal_places=9, max_digits=24, null=True),
                ),
                ("reservation_unused_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("reservation_unused_recurring_fee", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("tax_type", models.TextField(null=True)),
                (
                    "cost_entry",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntry"),
                ),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntryBill"),
                ),
                (
                    "cost_entry_pricing",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSCostEntryPricing"
                    ),
                ),
                (
                    "cost_entry_product",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSCostEntryProduct"
                    ),
                ),
                (
                    "cost_entry_reservation",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSCostEntryReservation"
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="AWSCostEntryLineItemDaily",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("line_item_type", models.CharField(max_length=50)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("usage_type", models.CharField(max_length=50, null=True)),
                ("operation", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("resource_id", models.CharField(max_length=256, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("normalization_factor", models.FloatField(null=True)),
                ("normalized_usage_amount", models.FloatField(null=True)),
                ("currency_code", models.CharField(max_length=10)),
                ("unblended_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("blended_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("blended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("public_on_demand_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("public_on_demand_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("tax_type", models.TextField(null=True)),
                ("tags", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "cost_entry_pricing",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSCostEntryPricing"
                    ),
                ),
                (
                    "cost_entry_product",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSCostEntryProduct"
                    ),
                ),
                (
                    "cost_entry_reservation",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSCostEntryReservation"
                    ),
                ),
                (
                    "cost_entry_bill",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntryBill"
                    ),
                ),
            ],
            options={"db_table": "reporting_awscostentrylineitem_daily"},
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdaily", index=models.Index(fields=["usage_start"], name="usage_start_idx")
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdaily",
            index=models.Index(fields=["product_code"], name="product_code_idx"),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdaily",
            index=models.Index(fields=["usage_account_id"], name="usage_account_id_idx"),
        ),
        migrations.CreateModel(
            name="AWSCostEntryLineItemDailySummary",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("resource_count", models.IntegerField(null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("normalization_factor", models.FloatField(null=True)),
                ("normalized_usage_amount", models.FloatField(null=True)),
                ("currency_code", models.CharField(max_length=10)),
                ("unblended_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("blended_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("blended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("public_on_demand_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("public_on_demand_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("tax_type", models.TextField(null=True)),
                (
                    "account_alias",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.PROTECT, to="reporting.AWSAccountAlias"
                    ),
                ),
                ("tags", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                (
                    "cost_entry_bill",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntryBill"
                    ),
                ),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
            ],
            options={"db_table": "reporting_awscostentrylineitem_daily_summary"},
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=models.Index(fields=["usage_start"], name="summary_usage_start_idx"),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=models.Index(fields=["product_code"], name="summary_product_code_idx"),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=models.Index(fields=["usage_account_id"], name="summary_usage_account_id_idx"),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=django.contrib.postgres.indexes.GinIndex(fields=["tags"], name="tags_idx"),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=models.Index(fields=["account_alias"], name="summary_account_alias_idx"),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=models.Index(fields=["product_family"], name="summary_product_family_idx"),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=models.Index(fields=["instance_type"], name="summary_instance_type_idx"),
        ),
        migrations.CreateModel(
            name="OCPUsageReportPeriod",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("cluster_id", models.CharField(max_length=50)),
                ("report_period_start", models.DateTimeField()),
                ("report_period_end", models.DateTimeField()),
                ("summary_data_creation_datetime", models.DateTimeField(null=True)),
                ("summary_data_updated_datetime", models.DateTimeField(null=True)),
                ("derived_cost_datetime", models.DateTimeField(null=True)),
                ("provider", models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="api.Provider")),
            ],
            options={"unique_together": {("cluster_id", "report_period_start", "provider")}},
        ),
        migrations.CreateModel(
            name="OCPUsageReport",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("interval_start", models.DateTimeField()),
                ("interval_end", models.DateTimeField()),
                (
                    "report_period",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"unique_together": {("report_period", "interval_start")}},
        ),
        migrations.AddIndex(
            model_name="ocpusagereport", index=models.Index(fields=["interval_start"], name="ocp_interval_start_idx")
        ),
        migrations.CreateModel(
            name="OCPUsageLineItem",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("namespace", models.CharField(max_length=253)),
                ("pod", models.CharField(max_length=253)),
                ("node", models.CharField(max_length=253)),
                ("pod_usage_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                (
                    "report",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReport"),
                ),
                (
                    "report_period",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
                ("pod_limit_memory_byte_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_memory_byte_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_usage_memory_byte_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_cpu_cores", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_memory_byte_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_memory_bytes", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("resource_id", models.CharField(max_length=253, null=True)),
            ],
            options={"unique_together": {("report", "namespace", "pod", "node")}},
        ),
        migrations.CreateModel(
            name="OCPUsageLineItemDaily",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("namespace", models.CharField(max_length=253)),
                ("pod", models.CharField(max_length=253)),
                ("node", models.CharField(max_length=253)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("pod_usage_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_memory_byte_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_memory_byte_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_usage_memory_byte_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("total_seconds", models.IntegerField(default=0)),
                ("node_capacity_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_cpu_cores", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_memory_byte_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_memory_bytes", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("cluster_capacity_cpu_core_seconds", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                (
                    "cluster_capacity_memory_byte_seconds",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpusagelineitem_daily"},
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdaily", index=models.Index(fields=["usage_start"], name="ocp_usage_idx")
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdaily", index=models.Index(fields=["namespace"], name="namespace_idx")
        ),
        migrations.AddIndex(model_name="ocpusagelineitemdaily", index=models.Index(fields=["pod"], name="pod_idx")),
        migrations.AddIndex(model_name="ocpusagelineitemdaily", index=models.Index(fields=["node"], name="node_idx")),
        migrations.CreateModel(
            name="OCPUsageLineItemDailySummary",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("namespace", models.CharField(max_length=253, null=True)),
                ("node", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("pod_usage_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_usage_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("node_capacity_cpu_cores", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                (
                    "node_capacity_memory_gigabyte_hours",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                ("node_capacity_memory_gigabytes", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("cluster_capacity_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                (
                    "cluster_capacity_memory_gigabyte_hours",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                ("pod_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("data_source", models.CharField(max_length=64, null=True)),
                ("persistentvolume", models.CharField(max_length=253, null=True)),
                ("persistentvolumeclaim", models.CharField(max_length=253, null=True)),
                (
                    "persistentvolumeclaim_capacity_gigabyte",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "persistentvolumeclaim_capacity_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "persistentvolumeclaim_usage_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                ("storageclass", models.CharField(max_length=50, null=True)),
                ("volume_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "volume_request_storage_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpusagelineitem_daily_summary"},
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdailysummary",
            index=models.Index(fields=["usage_start"], name="summary_ocp_usage_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdailysummary",
            index=models.Index(fields=["namespace"], name="summary_namespace_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdailysummary", index=models.Index(fields=["node"], name="summary_node_idx")
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdailysummary",
            index=django.contrib.postgres.indexes.GinIndex(fields=["pod_labels"], name="pod_labels_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdailysummary",
            index=models.Index(fields=["data_source"], name="summary_data_source_idx"),
        ),
        migrations.CreateModel(
            name="OCPAWSCostLineItemDailySummary",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                (
                    "namespace",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "pod",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                ("node", models.CharField(max_length=253)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("tags", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                (
                    "account_alias",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSAccountAlias"
                    ),
                ),
                ("normalized_usage_amount", models.FloatField(null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("currency_code", models.CharField(max_length=10, null=True)),
                ("shared_projects", models.IntegerField(default=1)),
                ("project_costs", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "cost_entry_bill",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntryBill"
                    ),
                ),
                ("markup_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpawscostlineitem_daily_summary"},
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemdailysummary",
            index=models.Index(fields=["usage_start"], name="cost_summary_ocp_usage_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemdailysummary",
            index=models.Index(fields=["namespace"], name="cost_summary_namespace_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemdailysummary",
            index=models.Index(fields=["node"], name="cost_summary_node_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemdailysummary",
            index=models.Index(fields=["resource_id"], name="cost_summary_resource_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemdailysummary",
            index=django.contrib.postgres.indexes.GinIndex(fields=["tags"], name="cost_tags_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemdailysummary",
            index=models.Index(fields=["product_family"], name="ocp_aws_product_family_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemdailysummary",
            index=models.Index(fields=["instance_type"], name="ocp_aws_instance_type_idx"),
        ),
        migrations.CreateModel(
            name="OCPStorageLineItem",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("namespace", models.CharField(max_length=253)),
                ("pod", models.CharField(max_length=253, null=True)),
                ("persistentvolumeclaim", models.CharField(max_length=253)),
                ("persistentvolume", models.CharField(max_length=253)),
                ("storageclass", models.CharField(max_length=50, null=True)),
                (
                    "persistentvolumeclaim_capacity_bytes",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "persistentvolumeclaim_capacity_byte_seconds",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "volume_request_storage_byte_seconds",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "persistentvolumeclaim_usage_byte_seconds",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                ("persistentvolume_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("persistentvolumeclaim_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "report",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReport"),
                ),
                (
                    "report_period",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"unique_together": {("report", "namespace", "persistentvolumeclaim")}},
        ),
        migrations.CreateModel(
            name="OCPStorageLineItemDaily",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("namespace", models.CharField(max_length=253)),
                ("pod", models.CharField(max_length=253, null=True)),
                ("persistentvolumeclaim", models.CharField(max_length=253)),
                ("persistentvolume", models.CharField(max_length=253)),
                ("storageclass", models.CharField(max_length=50, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                (
                    "persistentvolumeclaim_capacity_bytes",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "persistentvolumeclaim_capacity_byte_seconds",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "volume_request_storage_byte_seconds",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "persistentvolumeclaim_usage_byte_seconds",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                ("total_seconds", models.IntegerField()),
                ("persistentvolume_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("persistentvolumeclaim_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("node", models.CharField(max_length=253, null=True)),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpstoragelineitem_daily"},
        ),
        migrations.CreateModel(
            name="CostSummary",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("namespace", models.CharField(max_length=253, null=True)),
                ("pod", models.CharField(max_length=253, null=True)),
                ("node", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("pod_charge_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_charge_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                (
                    "persistentvolumeclaim_charge_gb_month",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                ("infra_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("project_infra_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("pod_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("project_markup_cost", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
                ("monthly_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
            ],
            options={"db_table": "reporting_ocpcosts_summary"},
        ),
        migrations.CreateModel(
            name="OCPAWSCostLineItemProjectDailySummary",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("namespace", models.CharField(max_length=253)),
                ("node", models.CharField(max_length=253)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("normalized_usage_amount", models.FloatField(null=True)),
                ("currency_code", models.CharField(max_length=10, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("pod_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                (
                    "account_alias",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSAccountAlias"
                    ),
                ),
                ("pod", models.CharField(max_length=253, null=True)),
                ("pod_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "cost_entry_bill",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntryBill"
                    ),
                ),
                ("project_markup_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("data_source", models.CharField(max_length=64, null=True)),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpawscostlineitem_project_daily_summary"},
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=models.Index(fields=["usage_start"], name="cost_proj_sum_ocp_usage_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=models.Index(fields=["namespace"], name="cost__proj_sum_namespace_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=models.Index(fields=["node"], name="cost_proj_sum_node_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=models.Index(fields=["resource_id"], name="cost_proj_sum_resource_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=models.Index(fields=["product_family"], name="ocp_aws_proj_prod_fam_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=models.Index(fields=["instance_type"], name="ocp_aws_proj_inst_type_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=django.contrib.postgres.indexes.GinIndex(fields=["pod_labels"], name="cost_proj_pod_labels_idx"),
        ),
        migrations.CreateModel(
            name="AzureCostEntryBill",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("billing_period_start", models.DateTimeField()),
                ("billing_period_end", models.DateTimeField()),
                ("summary_data_creation_datetime", models.DateTimeField(null=True)),
                ("summary_data_updated_datetime", models.DateTimeField(null=True)),
                ("finalized_datetime", models.DateTimeField(null=True)),
                ("derived_cost_datetime", models.DateTimeField(null=True)),
                ("provider", models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="api.Provider")),
            ],
            options={"unique_together": {("billing_period_start", "provider")}},
        ),
        migrations.CreateModel(
            name="AzureMeter",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("meter_id", models.UUIDField(editable=False, unique=True)),
                ("meter_name", models.CharField(max_length=50)),
                ("meter_category", models.CharField(max_length=50, null=True)),
                ("meter_subcategory", models.CharField(max_length=50, null=True)),
                ("meter_region", models.CharField(max_length=50, null=True)),
                ("resource_rate", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(max_length=10)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                (
                    "provider",
                    models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to="api.Provider"),
                ),
            ],
        ),
        migrations.CreateModel(
            name="AzureCostEntryProductService",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("instance_id", models.TextField(max_length=512)),
                ("resource_location", models.TextField()),
                ("consumed_service", models.TextField()),
                ("resource_type", models.TextField()),
                ("resource_group", models.TextField()),
                ("additional_info", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("service_tier", models.TextField()),
                ("service_name", models.TextField()),
                ("service_info1", models.TextField(null=True)),
                ("service_info2", models.TextField(null=True)),
                (
                    "provider",
                    models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to="api.Provider"),
                ),
                ("instance_type", models.TextField(null=True)),
            ],
            options={"unique_together": {("instance_id", "instance_type", "service_tier", "service_name")}},
        ),
        migrations.CreateModel(
            name="AzureCostEntryLineItemDaily",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("subscription_guid", models.CharField(max_length=50)),
                ("tags", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("usage_date_time", models.DateTimeField()),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AzureCostEntryBill"),
                ),
                (
                    "cost_entry_product",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="reporting.AzureCostEntryProductService",
                    ),
                ),
                (
                    "meter",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AzureMeter"
                    ),
                ),
            ],
            options={"db_table": "reporting_azurecostentrylineitem_daily"},
        ),
        migrations.CreateModel(
            name="AzureCostEntryLineItemDailySummary",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("subscription_guid", models.CharField(max_length=50)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("service_name", models.CharField(max_length=50)),
                ("resource_location", models.CharField(max_length=50)),
                ("tags", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AzureCostEntryBill"),
                ),
                (
                    "meter",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AzureMeter"
                    ),
                ),
                ("currency", models.CharField(default="USD", max_length=10)),
                ("instance_count", models.IntegerField(null=True)),
                (
                    "instance_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("usage_end", models.DateTimeField(null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
            ],
            options={"db_table": "reporting_azurecostentrylineitem_daily_summary"},
        ),
        migrations.CreateModel(
            name="GCPCostEntryBill",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("billing_period_start", models.DateTimeField()),
                ("billing_period_end", models.DateTimeField()),
                ("summary_data_creation_datetime", models.DateTimeField(blank=True, null=True)),
                ("summary_data_updated_datetime", models.DateTimeField(blank=True, null=True)),
                ("finalized_datetime", models.DateTimeField(blank=True, null=True)),
                ("derived_cost_datetime", models.DateTimeField(blank=True, null=True)),
                ("provider", models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="api.Provider")),
            ],
            options={"unique_together": {("billing_period_start", "provider")}},
        ),
        migrations.CreateModel(
            name="GCPProject",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("account_id", models.CharField(max_length=20)),
                ("project_number", models.BigIntegerField()),
                ("project_id", models.CharField(max_length=256, unique=True)),
                ("project_name", models.CharField(max_length=256)),
                ("project_labels", models.CharField(blank=True, max_length=256, null=True)),
            ],
        ),
        migrations.CreateModel(
            name="GCPCostEntryLineItemDaily",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("line_item_type", models.CharField(max_length=256)),
                ("measurement_type", models.CharField(max_length=512)),
                ("consumption", models.BigIntegerField()),
                ("unit", models.CharField(blank=True, max_length=63, null=True)),
                ("cost", models.DecimalField(blank=True, decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(max_length=10)),
                ("description", models.CharField(blank=True, max_length=256, null=True)),
                ("start_time", models.DateTimeField()),
                ("end_time", models.DateTimeField()),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.GCPCostEntryBill"),
                ),
                ("project", models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.GCPProject")),
            ],
            options={"unique_together": {("start_time", "line_item_type", "project")}},
        ),
        migrations.CreateModel(
            name="OCPAzureCostLineItemProjectDailySummary",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("data_source", models.CharField(max_length=64, null=True)),
                ("namespace", models.CharField(max_length=253)),
                ("pod", models.CharField(max_length=253, null=True)),
                ("node", models.CharField(max_length=253)),
                ("pod_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("subscription_guid", models.CharField(max_length=50)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("service_name", models.CharField(max_length=50)),
                ("resource_location", models.CharField(max_length=50)),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=17, null=True)),
                ("project_markup_cost", models.DecimalField(decimal_places=9, max_digits=17, null=True)),
                ("pod_cost", models.DecimalField(decimal_places=6, max_digits=24, null=True)),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AzureCostEntryBill"),
                ),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpazurecostlineitem_project_daily_summary"},
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=models.Index(fields=["usage_start"], name="ocpazure_proj_usage_start_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=models.Index(fields=["namespace"], name="ocpazure_proj_namespace_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=models.Index(fields=["node"], name="ocpazure_proj_node_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=models.Index(fields=["resource_id"], name="ocpazure_proj_resource_id_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=django.contrib.postgres.indexes.GinIndex(fields=["pod_labels"], name="ocpazure_proj_pod_labels_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=models.Index(fields=["service_name"], name="ocpazure_proj_service_name_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=models.Index(fields=["instance_type"], name="ocpazure_proj_inst_type_idx"),
        ),
        migrations.CreateModel(
            name="OCPAzureCostLineItemDailySummary",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                (
                    "namespace",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "pod",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                ("node", models.CharField(max_length=253)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("subscription_guid", models.CharField(max_length=50)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("service_name", models.CharField(max_length=50)),
                ("resource_location", models.CharField(max_length=50)),
                ("tags", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=17, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=17, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("shared_projects", models.IntegerField(default=1)),
                ("project_costs", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AzureCostEntryBill"),
                ),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpazurecostlineitem_daily_summary"},
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemdailysummary",
            index=models.Index(fields=["usage_start"], name="ocpazure_usage_start_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemdailysummary",
            index=models.Index(fields=["namespace"], name="ocpazure_namespace_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemdailysummary",
            index=models.Index(fields=["node"], name="ocpazure_node_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemdailysummary",
            index=models.Index(fields=["resource_id"], name="ocpazure_resource_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemdailysummary",
            index=django.contrib.postgres.indexes.GinIndex(fields=["tags"], name="ocpazure_tags_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemdailysummary",
            index=models.Index(fields=["service_name"], name="ocpazure_service_name_idx"),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemdailysummary",
            index=models.Index(fields=["instance_type"], name="ocpazure_instance_type_idx"),
        ),
        migrations.CreateModel(
            name="AWSCostSummaryByAccount",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_cost_summary_by_account", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSComputeSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("resource_count", models.IntegerField(null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_compute_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSComputeSummaryByAccount",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("resource_count", models.IntegerField(null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_compute_summary_by_account", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSComputeSummaryByRegion",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("resource_count", models.IntegerField(null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_compute_summary_by_region", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSComputeSummaryByService",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("resource_count", models.IntegerField(null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_compute_summary_by_service", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSCostSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_cost_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSCostSummaryByRegion",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_cost_summary_by_region", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSCostSummaryByService",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_cost_summary_by_service", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSDatabaseSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_database_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSNetworkSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_network_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSStorageSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_storage_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSStorageSummaryByAccount",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_storage_summary_by_account", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSStorageSummaryByRegion",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_storage_summary_by_region", "managed": False},
        ),
        migrations.CreateModel(
            name="AWSStorageSummaryByService",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField(null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_aws_storage_summary_by_service", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllCostLineItemDailySummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("source_type", models.TextField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                (
                    "namespace",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                ("node", models.CharField(max_length=253)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("usage_account_id", models.CharField(max_length=50)),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("tags", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("currency_code", models.CharField(max_length=10, null=True)),
                ("shared_projects", models.IntegerField(default=1)),
                ("project_costs", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
            ],
            options={"db_table": "reporting_ocpallcostlineitem_daily_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllCostLineItemProjectDailySummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("source_type", models.TextField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("data_source", models.CharField(max_length=64, null=True)),
                ("namespace", models.CharField(max_length=253)),
                ("node", models.CharField(max_length=253)),
                ("pod_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("usage_account_id", models.CharField(max_length=50)),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("project_markup_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("pod_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("currency_code", models.CharField(max_length=10, null=True)),
            ],
            options={"db_table": "reporting_ocpallcostlineitem_project_daily_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPUsagePodLabelSummary",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("key", models.CharField(max_length=253)),
                (
                    "values",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "report_period",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={
                "db_table": "reporting_ocpusagepodlabel_summary",
                "unique_together": {("key", "report_period", "namespace", "node")},
            },
        ),
        migrations.CreateModel(
            name="OCPStorageVolumeLabelSummary",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("key", models.CharField(max_length=253)),
                (
                    "values",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "report_period",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={
                "db_table": "reporting_ocpstoragevolumelabel_summary",
                "unique_together": {("key", "report_period", "namespace", "node")},
            },
        ),
        migrations.CreateModel(
            name="AzureTagsSummary",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("key", models.CharField(max_length=253)),
                (
                    "values",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AzureCostEntryBill"),
                ),
            ],
            options={"db_table": "reporting_azuretags_summary", "unique_together": {("key", "cost_entry_bill")}},
        ),
        migrations.CreateModel(
            name="AWSTagsSummary",
            fields=[
                ("uuid", models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ("key", models.TextField()),
                ("values", django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), size=None)),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntryBill"),
                ),
                ("usage_account_id", models.TextField(null=True)),
                (
                    "account_alias",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSAccountAlias"
                    ),
                ),
            ],
            options={
                "db_table": "reporting_awstags_summary",
                "unique_together": {("key", "cost_entry_bill", "usage_account_id")},
            },
        ),
        migrations.AddField(
            model_name="azuretagssummary",
            name="subscription_guid",
            field=django.contrib.postgres.fields.ArrayField(
                base_field=models.CharField(max_length=50), default="{}", size=None
            ),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpstoragevolumelabelsummary",
            name="namespace",
            field=django.contrib.postgres.fields.ArrayField(
                base_field=models.CharField(max_length=253), default="{}", size=None
            ),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpusagepodlabelsummary",
            name="namespace",
            field=django.contrib.postgres.fields.ArrayField(
                base_field=models.CharField(max_length=253), default="{}", size=None
            ),
            preserve_default=False,
        ),
        migrations.CreateModel(
            name="OCPAzureTagsSummary",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("key", models.CharField(max_length=253)),
                (
                    "values",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "subscription_guid",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=50), size=None),
                ),
                (
                    "namespace",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AzureCostEntryBill"),
                ),
            ],
            options={
                "db_table": "reporting_ocpazuretags_summary",
                "unique_together": {
                    ("key", "cost_entry_bill", "report_period", "subscription_guid", "namespace", "node")
                },
            },
        ),
        migrations.CreateModel(
            name="OCPAWSTagsSummary",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("key", models.CharField(max_length=253)),
                (
                    "values",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "accounts",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=63), size=None),
                ),
                (
                    "namespace",
                    django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=253), size=None),
                ),
                (
                    "cost_entry_bill",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.AWSCostEntryBill"),
                ),
            ],
            options={
                "db_table": "reporting_ocpawstags_summary",
                "unique_together": {
                    ("key", "cost_entry_bill", "report_period", "usage_account_id", "namespace", "node")
                },
            },
        ),
        migrations.CreateModel(
            name="OCPNodeLabelLineItem",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("node", models.CharField(max_length=253, null=True)),
                ("node_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "report",
                    models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReport"),
                ),
                (
                    "report_period",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpnodelabellineitem", "unique_together": {("report", "node")}},
        ),
        migrations.CreateModel(
            name="OCPNodeLabelLineItemDaily",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("node", models.CharField(max_length=253, null=True)),
                ("usage_start", models.DateTimeField()),
                ("usage_end", models.DateTimeField()),
                ("node_labels", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("total_seconds", models.IntegerField()),
                (
                    "report_period",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
                    ),
                ),
            ],
            options={"db_table": "reporting_ocpnodelabellineitem_daily"},
        ),
        migrations.RemoveIndex(model_name="ocpawscostlineitemdailysummary", name="cost_summary_node_idx"),
        migrations.RemoveIndex(
            model_name="ocpawscostlineitemprojectdailysummary", name="cost__proj_sum_namespace_idx"
        ),
        migrations.RemoveIndex(model_name="ocpawscostlineitemprojectdailysummary", name="cost_proj_sum_node_idx"),
        migrations.RemoveIndex(model_name="ocpazurecostlineitemdailysummary", name="ocpazure_node_idx"),
        migrations.RemoveIndex(
            model_name="ocpazurecostlineitemprojectdailysummary", name="ocpazure_proj_namespace_idx"
        ),
        migrations.RemoveIndex(model_name="ocpazurecostlineitemprojectdailysummary", name="ocpazure_proj_node_idx"),
        migrations.RemoveIndex(model_name="ocpusagelineitemdaily", name="namespace_idx"),
        migrations.RemoveIndex(model_name="ocpusagelineitemdaily", name="node_idx"),
        migrations.RemoveIndex(model_name="ocpusagelineitemdailysummary", name="summary_namespace_idx"),
        migrations.RemoveIndex(model_name="ocpusagelineitemdailysummary", name="summary_node_idx"),
        migrations.AlterField(
            model_name="ocpawscostlineitemprojectdailysummary", name="usage_end", field=models.DateField()
        ),
        migrations.AlterField(
            model_name="ocpawscostlineitemprojectdailysummary", name="usage_start", field=models.DateField()
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary", name="usage_end", field=models.DateField()
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary", name="usage_start", field=models.DateField()
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary", name="usage_end", field=models.DateField()
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary", name="usage_start", field=models.DateField()
        ),
        migrations.AlterField(model_name="ocpstoragelineitemdaily", name="usage_end", field=models.DateField()),
        migrations.AlterField(model_name="ocpstoragelineitemdaily", name="usage_start", field=models.DateField()),
        migrations.AlterField(model_name="ocpusagelineitemdaily", name="total_seconds", field=models.IntegerField()),
        migrations.AlterField(model_name="ocpusagelineitemdaily", name="usage_end", field=models.DateField()),
        migrations.AlterField(model_name="ocpusagelineitemdaily", name="usage_start", field=models.DateField()),
        migrations.AlterField(model_name="ocpusagelineitemdailysummary", name="usage_end", field=models.DateField()),
        migrations.AlterField(model_name="ocpusagelineitemdailysummary", name="usage_start", field=models.DateField()),
        migrations.AddIndex(
            model_name="ocpawscostlineitemdailysummary",
            index=models.Index(fields=["node"], name="cost_summary_node_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=models.Index(
                fields=["namespace"], name="cost__proj_sum_namespace_idx", opclasses=["varchar_pattern_ops"]
            ),
        ),
        migrations.AddIndex(
            model_name="ocpawscostlineitemprojectdailysummary",
            index=models.Index(fields=["node"], name="cost_proj_sum_node_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemdailysummary",
            index=models.Index(fields=["node"], name="ocpazure_node_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=models.Index(
                fields=["namespace"], name="ocpazure_proj_namespace_idx", opclasses=["varchar_pattern_ops"]
            ),
        ),
        migrations.AddIndex(
            model_name="ocpazurecostlineitemprojectdailysummary",
            index=models.Index(fields=["node"], name="ocpazure_proj_node_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="ocpstoragelineitemdaily",
            index=models.Index(
                fields=["namespace"], name="ocp_storage_li_namespace_idx", opclasses=["varchar_pattern_ops"]
            ),
        ),
        migrations.AddIndex(
            model_name="ocpstoragelineitemdaily",
            index=models.Index(fields=["node"], name="ocp_storage_li_node_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdaily",
            index=models.Index(fields=["namespace"], name="namespace_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdaily",
            index=models.Index(fields=["node"], name="node_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdailysummary",
            index=models.Index(fields=["namespace"], name="summary_namespace_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="ocpusagelineitemdailysummary",
            index=models.Index(fields=["node"], name="summary_node_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AlterField(model_name="costsummary", name="usage_end", field=models.DateField()),
        migrations.AlterField(model_name="costsummary", name="usage_start", field=models.DateField()),
        migrations.AddIndex(
            model_name="costsummary", index=models.Index(fields=["usage_start"], name="ocpcostsum_usage_start_idx")
        ),
        migrations.AddIndex(
            model_name="costsummary",
            index=models.Index(
                fields=["namespace"], name="ocpcostsum_namespace_idx", opclasses=["varchar_pattern_ops"]
            ),
        ),
        migrations.AddIndex(
            model_name="costsummary",
            index=models.Index(fields=["node"], name="ocpcostsum_node_idx", opclasses=["varchar_pattern_ops"]),
        ),
        migrations.AddIndex(
            model_name="costsummary",
            index=django.contrib.postgres.indexes.GinIndex(fields=["pod_labels"], name="ocpcostsum_pod_labels_idx"),
        ),
        migrations.RunSQL(sql="\ncreate extension if not exists pg_trgm schema public;\n            "),
        migrations.RunSQL(
            sql="\n/* add namespace index for like trigram ops */\ncreate index if not exists ocp_namespace_idx\n    on  reporting_ocpusagelineitem_daily using gin (UPPER(namespace) gin_trgm_ops);\n\n/* add node index for like trigram ops */\ncreate index if not exists ocp_node_idx\n    on reporting_ocpusagelineitem_daily using gin (UPPER(node) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\n/* add namespace index for like trigram ops */\ncreate index if not exists ocp_summary_namespace_like_idx\n    on reporting_ocpusagelineitem_daily_summary using gin (UPPER(namespace) gin_trgm_ops);\n\n/* add node index for like trigram ops */\ncreate index if not exists ocp_summary_node_like_idx\n    on reporting_ocpusagelineitem_daily_summary using gin (UPPER(node) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\n/* add namespace index for like trigram ops */\ncreate index if not exists ocp_storage_li_namespace_like_idx\n    on reporting_ocpstoragelineitem_daily using gin (UPPER(namespace) gin_trgm_ops);\n\n/* add node index for like trigram ops */\ncreate index if not exists ocp_storage_li_node_like_idx\n    on reporting_ocpstoragelineitem_daily using gin (UPPER(node) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\n/* add node index for like trigram ops */\ncreate index if not exists ocpazure_node_like_idx\n    on reporting_ocpazurecostlineitem_daily_summary using gin (UPPER(node) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\n/* add namespace index for like trigram ops */\ncreate index if not exists ocpazure_proj_namespace_like_idx\n    on reporting_ocpazurecostlineitem_project_daily_summary using gin (UPPER(namespace) gin_trgm_ops);\n\n/* add node index for like trigram ops */\ncreate index if not exists ocpazure_proj_node_like_idx\n    on reporting_ocpazurecostlineitem_project_daily_summary using gin (UPPER(node) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\n/* add node index for like trigram ops */\ncreate index if not exists cost_summary_node_like_idx\n    on reporting_ocpawscostlineitem_daily_summary using gin (UPPER(node) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\n/* add namespace index for like trigram ops */\ncreate index if not exists cost__proj_sum_namespace_like_idx\n    on reporting_ocpawscostlineitem_project_daily_summary using gin (UPPER(namespace) gin_trgm_ops);\n\n/* add node index for like trigram ops */\ncreate index if not exists cost__proj_sum_node_like_idx\n    on reporting_ocpawscostlineitem_project_daily_summary using gin (UPPER(node) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\n/* add namespace index for like trigram ops */\ncreate index if not exists ocpcostsum_namespace_like_idx\n    on reporting_ocpcosts_summary using gin (UPPER(namespace) gin_trgm_ops);\n\n/* add node index for like trigram ops */\ncreate index if not exists ocpcostsum_node_like_idx\n    on reporting_ocpcosts_summary using gin (UPPER(node) gin_trgm_ops);\n            "
        ),
        migrations.AlterField(
            model_name="awscostentrylineitemdaily", name="usage_end", field=models.DateField(null=True)
        ),
        migrations.AlterField(model_name="awscostentrylineitemdaily", name="usage_start", field=models.DateField()),
        migrations.AlterField(
            model_name="awscostentrylineitemdailysummary", name="usage_end", field=models.DateField(null=True)
        ),
        migrations.AlterField(
            model_name="awscostentrylineitemdailysummary", name="usage_start", field=models.DateField()
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="usage_end", field=models.DateField(null=True)
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="usage_start", field=models.DateField()
        ),
        migrations.AlterField(model_name="ocpawscostlineitemdailysummary", name="usage_end", field=models.DateField()),
        migrations.AlterField(
            model_name="ocpawscostlineitemdailysummary", name="usage_start", field=models.DateField()
        ),
        migrations.AlterField(model_name="ocpnodelabellineitemdaily", name="usage_end", field=models.DateField()),
        migrations.AlterField(model_name="ocpnodelabellineitemdaily", name="usage_start", field=models.DateField()),
        migrations.AddIndex(
            model_name="awscostentrylineitemdaily",
            index=django.contrib.postgres.indexes.GinIndex(fields=["tags"], name="aws_cost_entry"),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdaily",
            index=django.contrib.postgres.indexes.GinIndex(
                fields=["product_code"], name="aws_cost_pcode_like", opclasses=["gin_trgm_ops"]
            ),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=django.contrib.postgres.indexes.GinIndex(
                fields=["product_code"], name="aws_summ_usage_pcode_like", opclasses=["gin_trgm_ops"]
            ),
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdailysummary",
            index=django.contrib.postgres.indexes.GinIndex(
                fields=["product_family"], name="aws_summ_usage_pfam_like", opclasses=["gin_trgm_ops"]
            ),
        ),
        migrations.AddIndex(
            model_name="ocpnodelabellineitemdaily",
            index=models.Index(fields=["usage_start"], name="ocplblnitdly_usage_start"),
        ),
        migrations.AddIndex(
            model_name="ocpnodelabellineitemdaily",
            index=django.contrib.postgres.indexes.GinIndex(fields=["node_labels"], name="ocplblnitdly_node_labels"),
        ),
        migrations.RenameField(
            model_name="azurecostentrylineitemdaily", old_name="usage_date_time", new_name="usage_date"
        ),
        migrations.AlterField(model_name="azurecostentrylineitemdaily", name="usage_date", field=models.DateField()),
        migrations.CreateModel(
            name="OCPEnabledTagKeys",
            fields=[
                ("id", models.BigAutoField(primary_key=True, serialize=False)),
                ("key", models.CharField(max_length=253, unique=True)),
            ],
            options={"db_table": "reporting_ocpenabledtagkeys"},
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="infrastructure_markup_cost",
            field=models.DecimalField(decimal_places=15, max_digits=33, null=True),
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="infrastructure_monthly_cost",
            field=models.DecimalField(decimal_places=15, max_digits=33, null=True),
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="infrastructure_project_markup_cost",
            field=models.DecimalField(decimal_places=15, max_digits=33, null=True),
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="infrastructure_project_raw_cost",
            field=models.DecimalField(decimal_places=15, max_digits=33, null=True),
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="infrastructure_raw_cost",
            field=models.DecimalField(decimal_places=15, max_digits=33, null=True),
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="infrastructure_usage_cost",
            field=django.contrib.postgres.fields.jsonb.JSONField(null=True),
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="monthly_cost_type",
            field=models.TextField(choices=[("Node", "Node"), ("Cluster", "Cluster")], null=True),
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="supplementary_monthly_cost",
            field=models.DecimalField(decimal_places=15, max_digits=33, null=True),
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary",
            name="supplementary_usage_cost",
            field=django.contrib.postgres.fields.jsonb.JSONField(null=True),
        ),
        migrations.CreateModel(
            name="AzureComputeSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("instance_type", models.CharField(max_length=50, null=True)),
                (
                    "instance_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("instance_count", models.IntegerField(null=True)),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_azure_compute_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AzureCostSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_azure_cost_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AzureCostSummaryByAccount",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("subscription_guid", models.CharField(max_length=50)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_azure_cost_summary_by_account", "managed": False},
        ),
        migrations.CreateModel(
            name="AzureCostSummaryByLocation",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("resource_location", models.CharField(max_length=50)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_azure_cost_summary_by_location", "managed": False},
        ),
        migrations.CreateModel(
            name="AzureCostSummaryByService",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("service_name", models.TextField()),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_azure_cost_summary_by_service", "managed": False},
        ),
        migrations.CreateModel(
            name="AzureDatabaseSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("service_name", models.TextField()),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_azure_database_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AzureNetworkSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("service_name", models.TextField()),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_azure_network_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="AzureStorageSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("service_name", models.TextField()),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_azure_storage_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllComputeSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("product_code", models.CharField(max_length=50)),
                ("instance_type", models.CharField(max_length=50)),
                ("resource_id", models.CharField(max_length=253)),
                ("usage_amount", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("currency_code", models.CharField(max_length=10, null=True)),
            ],
            options={"db_table": "reporting_ocpall_compute_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllCostSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpall_cost_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllCostSummaryByAccount",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpall_cost_summary_by_account", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllCostSummaryByRegion",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("region", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpall_cost_summary_by_region", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllCostSummaryByService",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpall_cost_summary_by_service", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllDatabaseSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("product_code", models.CharField(max_length=50)),
                ("usage_amount", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("currency_code", models.CharField(max_length=10, null=True)),
            ],
            options={"db_table": "reporting_ocpall_database_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllNetworkSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("product_code", models.CharField(max_length=50)),
                ("usage_amount", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("currency_code", models.CharField(max_length=10, null=True)),
            ],
            options={"db_table": "reporting_ocpall_network_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAllStorageSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("usage_amount", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=15, max_digits=30, null=True)),
                ("currency_code", models.CharField(max_length=10, null=True)),
            ],
            options={"db_table": "reporting_ocpall_storage_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPCostSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.TextField()),
                ("cluster_alias", models.TextField(null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("infrastructure_raw_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_markup_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_monthly_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("supplementary_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("supplementary_monthly_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
            ],
            options={"db_table": "reporting_ocp_cost_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPCostSummaryByNode",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.TextField()),
                ("cluster_alias", models.TextField(null=True)),
                ("node", models.CharField(max_length=253)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("infrastructure_raw_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_markup_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_monthly_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("supplementary_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("supplementary_monthly_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
            ],
            options={"db_table": "reporting_ocp_cost_summary_by_node", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPCostSummaryByProject",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.TextField()),
                ("cluster_alias", models.TextField(null=True)),
                ("namespace", models.CharField(max_length=253)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("infrastructure_project_raw_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                (
                    "infrastructure_project_markup_cost",
                    models.DecimalField(decimal_places=15, max_digits=33, null=True),
                ),
                ("infrastructure_monthly_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("supplementary_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("supplementary_monthly_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
            ],
            options={"db_table": "reporting_ocp_cost_summary_by_project", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPPodSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.TextField()),
                ("cluster_alias", models.TextField(null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("resource_count", models.IntegerField(null=True)),
                ("data_source", models.CharField(max_length=64, null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("infrastructure_raw_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_markup_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("supplementary_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("pod_usage_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_usage_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("cluster_capacity_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("total_capacity_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                (
                    "total_capacity_memory_gigabyte_hours",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "cluster_capacity_memory_gigabyte_hours",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
            ],
            options={"db_table": "reporting_ocp_pod_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPPodSummaryByProject",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.TextField()),
                ("cluster_alias", models.TextField(null=True)),
                ("namespace", models.CharField(max_length=253, null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("resource_count", models.IntegerField(null=True)),
                ("data_source", models.CharField(max_length=64, null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("supplementary_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_raw_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_markup_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("pod_usage_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_usage_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_request_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("pod_limit_memory_gigabyte_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("cluster_capacity_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                ("total_capacity_cpu_core_hours", models.DecimalField(decimal_places=9, max_digits=27, null=True)),
                (
                    "total_capacity_memory_gigabyte_hours",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "cluster_capacity_memory_gigabyte_hours",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
            ],
            options={"db_table": "reporting_ocp_pod_summary_by_project", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPVolumeSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.TextField()),
                ("cluster_alias", models.TextField(null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("resource_count", models.IntegerField(null=True)),
                ("data_source", models.CharField(max_length=64, null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("supplementary_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_raw_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_markup_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                (
                    "persistentvolumeclaim_usage_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "volume_request_storage_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "persistentvolumeclaim_capacity_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
            ],
            options={"db_table": "reporting_ocp_volume_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPVolumeSummaryByProject",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("cluster_id", models.TextField()),
                ("cluster_alias", models.TextField(null=True)),
                ("namespace", models.CharField(max_length=253, null=True)),
                (
                    "resource_ids",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=256), null=True, size=None
                    ),
                ),
                ("resource_count", models.IntegerField(null=True)),
                ("data_source", models.CharField(max_length=64, null=True)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("supplementary_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_raw_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                ("infrastructure_usage_cost", django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ("infrastructure_markup_cost", models.DecimalField(decimal_places=15, max_digits=33, null=True)),
                (
                    "persistentvolumeclaim_usage_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "volume_request_storage_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
                (
                    "persistentvolumeclaim_capacity_gigabyte_months",
                    models.DecimalField(decimal_places=9, max_digits=27, null=True),
                ),
            ],
            options={"db_table": "reporting_ocp_volume_summary_by_project", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAWSCostSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpaws_cost_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAWSComputeSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpaws_compute_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAWSCostSummaryByAccount",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("usage_account_id", models.CharField(max_length=50)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpaws_cost_summary_by_account", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAWSCostSummaryByService",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpaws_cost_summary_by_account", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAWSCostSummaryByRegion",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("region", models.CharField(max_length=50, null=True)),
                ("availability_zone", models.CharField(max_length=50, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpaws_cost_summary_by_region", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAWSDatabaseSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpaws_database_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAWSNetworkSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("product_code", models.CharField(max_length=50)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpaws_network_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAWSStorageSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("product_family", models.CharField(max_length=150, null=True)),
                ("usage_amount", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit", models.CharField(max_length=63, null=True)),
                ("unblended_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency_code", models.CharField(max_length=10)),
            ],
            options={"db_table": "reporting_ocpaws_storage_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAzureComputeSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("instance_type", models.CharField(max_length=50, null=True)),
                ("resource_id", models.CharField(max_length=253, null=True)),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_ocpocpazure_compute_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAzureCostSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_ocpocpazure_cost_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAzureCostSummaryByAccount",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("subscription_guid", models.CharField(max_length=50)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_ocpocpazure_cost_summary_by_account", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAzureCostSummaryByLocation",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("resource_location", models.CharField(max_length=50)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_ocpocpazure_cost_summary_by_location", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAzureCostSummaryByService",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("service_name", models.TextField()),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_ocpocpazure_cost_summary_by_service", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAzureDatabaseSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("service_name", models.TextField()),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_ocpocpazure_database_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAzureNetworkSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("service_name", models.TextField()),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_ocpocpazure_network_summary", "managed": False},
        ),
        migrations.CreateModel(
            name="OCPAzureStorageSummary",
            fields=[
                ("id", models.IntegerField(primary_key=True, serialize=False)),
                ("usage_start", models.DateField()),
                ("usage_end", models.DateField()),
                ("cluster_id", models.CharField(max_length=50, null=True)),
                ("cluster_alias", models.CharField(max_length=256, null=True)),
                ("service_name", models.TextField()),
                ("usage_quantity", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("unit_of_measure", models.CharField(max_length=63, null=True)),
                ("pretax_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("markup_cost", models.DecimalField(decimal_places=9, max_digits=24, null=True)),
                ("currency", models.CharField(default="USD", max_length=10)),
            ],
            options={"db_table": "reporting_ocpocpazure_storage_summary", "managed": False},
        ),
        migrations.AlterModelTable(
            name="ocpawscostsummarybyservice", table="reporting_ocpaws_cost_summary_by_service"
        ),
        migrations.AlterModelTable(name="ocpazurecomputesummary", table="reporting_ocpazure_compute_summary"),
        migrations.AlterModelTable(name="ocpazurecostsummary", table="reporting_ocpazure_cost_summary"),
        migrations.AlterModelTable(
            name="ocpazurecostsummarybyaccount", table="reporting_ocpazure_cost_summary_by_account"
        ),
        migrations.AlterModelTable(
            name="ocpazurecostsummarybylocation", table="reporting_ocpazure_cost_summary_by_location"
        ),
        migrations.AlterModelTable(
            name="ocpazurecostsummarybyservice", table="reporting_ocpazure_cost_summary_by_service"
        ),
        migrations.AlterModelTable(name="ocpazuredatabasesummary", table="reporting_ocpazure_database_summary"),
        migrations.AlterModelTable(name="ocpazurenetworksummary", table="reporting_ocpazure_network_summary"),
        migrations.AlterModelTable(name="ocpazurestoragesummary", table="reporting_ocpazure_storage_summary"),
        migrations.AddIndex(
            model_name="azurecostentrylineitemdailysummary",
            index=models.Index(fields=["usage_start"], name="ix_azurecstentrydlysumm_start"),
        ),
        migrations.RunSQL(
            sql="\nDROP INDEX IF EXISTS ocpall_product_code_ilike;\nCREATE INDEX ocpall_product_code_ilike ON reporting_ocpallcostlineitem_daily_summary USING GIN (upper(product_code) gin_trgm_ops);\n\nDROP INDEX IF EXISTS ocpall_product_family_ilike;\nCREATE INDEX ocpall_product_family_ilike ON reporting_ocpallcostlineitem_daily_summary USING GIN (upper(product_family) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\nDROP INDEX IF EXISTS aws_summ_usage_pfam_ilike;\nCREATE INDEX aws_summ_usage_pfam_ilike ON reporting_awscostentrylineitem_daily_summary USING GIN (upper(product_family) gin_trgm_ops);\n\nDROP INDEX IF EXISTS aws_summ_usage_pcode_ilike;\nCREATE INDEX aws_summ_usage_pcode_ilike ON reporting_awscostentrylineitem_daily_summary USING GIN (upper(product_family) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\nDROP INDEX IF EXISTS ix_azure_costentrydlysumm_service_name;\nCREATE INDEX ix_azure_costentrydlysumm_service_name ON reporting_azurecostentrylineitem_daily_summary USING GIN (upper(service_name) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\nDROP INDEX IF EXISTS ix_ocp_aws_product_family_ilike;\nCREATE INDEX ix_ocp_aws_product_family_ilike ON reporting_ocpawscostlineitem_daily_summary USING GIN (upper(product_family) gin_trgm_ops);\n\nDROP INDEX IF EXISTS ix_ocp_aws_product_code_ilike;\nCREATE INDEX ix_ocp_aws_product_code_ilike ON reporting_ocpawscostlineitem_daily_summary USING GIN (upper(product_code) gin_trgm_ops);\n            "
        ),
        migrations.RunSQL(
            sql="\nDROP INDEX IF EXISTS ix_ocpazure_service_name_ilike;\nCREATE INDEX ix_ocpazure_service_name_ilike ON reporting_ocpazurecostlineitem_daily_summary USING GIN (upper(service_name) gin_trgm_ops);\n            "
        ),
        migrations.RemoveIndex(model_name="awscostentrylineitemdailysummary", name="aws_summ_usage_pcode_like"),
        migrations.RemoveIndex(model_name="awscostentrylineitemdailysummary", name="aws_summ_usage_pfam_like"),
        migrations.AlterField(
            model_name="azurecostentryproductservice", name="service_name", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="azurecostentryproductservice", name="service_tier", field=models.TextField(null=True)
        ),
        migrations.AddField(
            model_name="ocpawscostlineitemprojectdailysummary",
            name="markup_cost",
            field=models.DecimalField(decimal_places=15, max_digits=30, null=True),
        ),
        migrations.AddField(
            model_name="ocpazurecostlineitemprojectdailysummary",
            name="markup_cost",
            field=models.DecimalField(decimal_places=9, max_digits=17, null=True),
        ),
        migrations.CreateModel(
            name="AWSOrganizationalUnit",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("org_unit_name", models.CharField(max_length=250)),
                ("org_unit_id", models.CharField(max_length=50)),
                ("org_unit_path", models.TextField()),
                ("level", models.PositiveSmallIntegerField()),
                ("created_timestamp", models.DateField(auto_now_add=True)),
                ("deleted_timestamp", models.DateField(null=True)),
                (
                    "account_alias",
                    models.ForeignKey(
                        null=True, on_delete=django.db.models.deletion.PROTECT, to="reporting.AWSAccountAlias"
                    ),
                ),
            ],
        ),
        migrations.AddField(
            model_name="awscostentrylineitemdailysummary",
            name="organizational_unit",
            field=models.ForeignKey(
                null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSOrganizationalUnit"
            ),
        ),
        migrations.AddField(
            model_name="awscostentrylineitemdailysummary", name="source_uuid", field=models.UUIDField(null=True)
        ),
        migrations.AddField(
            model_name="azurecostentrylineitemdailysummary", name="source_uuid", field=models.UUIDField(null=True)
        ),
        migrations.AddField(
            model_name="ocpazurecostlineitemdailysummary", name="source_uuid", field=models.UUIDField(null=True)
        ),
        migrations.AddField(
            model_name="ocpazurecostlineitemprojectdailysummary", name="source_uuid", field=models.UUIDField(null=True)
        ),
        migrations.AddField(
            model_name="ocpawscostlineitemdailysummary", name="source_uuid", field=models.UUIDField(null=True)
        ),
        migrations.AddField(
            model_name="ocpawscostlineitemprojectdailysummary", name="source_uuid", field=models.UUIDField(null=True)
        ),
        migrations.AddField(
            model_name="ocpusagelineitemdailysummary", name="source_uuid", field=models.UUIDField(null=True)
        ),
        migrations.AlterUniqueTogether(
            name="ocpawstagssummary", unique_together={("key", "cost_entry_bill", "namespace")}
        ),
        migrations.AlterUniqueTogether(
            name="ocpazuretagssummary", unique_together={("key", "cost_entry_bill", "namespace")}
        ),
        migrations.AlterUniqueTogether(
            name="ocpstoragevolumelabelsummary", unique_together={("key", "report_period", "namespace")}
        ),
        migrations.AlterUniqueTogether(
            name="ocpusagepodlabelsummary", unique_together={("key", "report_period", "namespace")}
        ),
        migrations.AddField(
            model_name="ocpawstagssummary", name="cluster_alias", field=models.CharField(max_length=256, null=True)
        ),
        migrations.AddField(
            model_name="ocpawstagssummary", name="cluster_id", field=models.CharField(max_length=50, null=True)
        ),
        migrations.AddField(
            model_name="ocpazuretagssummary", name="cluster_alias", field=models.CharField(max_length=256, null=True)
        ),
        migrations.AddField(
            model_name="ocpazuretagssummary", name="cluster_id", field=models.CharField(max_length=50, null=True)
        ),
        migrations.AddField(
            model_name="ocpusagereportperiod", name="cluster_alias", field=models.CharField(max_length=256, null=True)
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdaily", name="subscription_guid", field=models.TextField()
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="currency", field=models.TextField(default="USD")
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary",
            name="instance_ids",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), null=True, size=None),
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="instance_type", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary",
            name="resource_location",
            field=models.TextField(null=True),
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="service_name", field=models.TextField()
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="subscription_guid", field=models.TextField()
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="unit_of_measure", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="azurecostentryproductservice", name="resource_location", field=models.TextField(null=True)
        ),
        migrations.AlterField(model_name="azuremeter", name="currency", field=models.TextField(null=True)),
        migrations.AlterField(model_name="azuremeter", name="meter_category", field=models.TextField(null=True)),
        migrations.AlterField(model_name="azuremeter", name="meter_name", field=models.TextField()),
        migrations.AlterField(model_name="azuremeter", name="meter_region", field=models.TextField(null=True)),
        migrations.AlterField(model_name="azuremeter", name="meter_subcategory", field=models.TextField(null=True)),
        migrations.AlterField(model_name="azuremeter", name="unit_of_measure", field=models.TextField(null=True)),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="service_name", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="azurecostentrylineitemdailysummary", name="currency", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary", name="currency", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary", name="instance_type", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary", name="resource_location", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary", name="service_name", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary", name="subscription_guid", field=models.TextField()
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary", name="unit_of_measure", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary", name="currency", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary",
            name="instance_type",
            field=models.TextField(null=True),
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary",
            name="resource_location",
            field=models.TextField(null=True),
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary",
            name="service_name",
            field=models.TextField(null=True),
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary", name="subscription_guid", field=models.TextField()
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary",
            name="unit_of_measure",
            field=models.TextField(null=True),
        ),
        migrations.AlterField(
            model_name="azurecostentryproductservice", name="consumed_service", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="azurecostentryproductservice", name="resource_group", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="azurecostentryproductservice", name="resource_type", field=models.TextField(null=True)
        ),
        migrations.AddIndex(
            model_name="awscostentrylineitemdaily", index=models.Index(fields=["resource_id"], name="resource_id_idx")
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdailysummary",
            name="infrastructure_project_raw_cost",
            field=models.DecimalField(decimal_places=15, default=Decimal("0"), max_digits=33, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdailysummary",
            name="infrastructure_raw_cost",
            field=models.DecimalField(decimal_places=15, default=Decimal("0"), max_digits=33, null=True),
        ),
        migrations.CreateModel(
            name="PartitionedTable",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("schema_name", models.TextField(validators=[reporting.partition.models.validate_not_empty])),
                ("table_name", models.TextField(validators=[reporting.partition.models.validate_not_empty])),
                (
                    "partition_of_table_name",
                    models.TextField(validators=[reporting.partition.models.validate_not_empty]),
                ),
                ("partition_type", models.TextField(validators=[reporting.partition.models.validate_not_empty])),
                ("partition_col", models.TextField(validators=[reporting.partition.models.validate_not_empty])),
                (
                    "partition_parameters",
                    django.contrib.postgres.fields.jsonb.JSONField(
                        validators=[reporting.partition.models.validate_not_empty]
                    ),
                ),
            ],
            options={"db_table": "partitioned_tables"},
        ),
        migrations.AddIndex(
            model_name="partitionedtable",
            index=models.Index(fields=["schema_name", "table_name"], name="partable_table"),
        ),
        migrations.AddIndex(
            model_name="partitionedtable",
            index=models.Index(fields=["partition_type"], name="partable_partition_type"),
        ),
        migrations.AddIndex(
            model_name="partitionedtable",
            index=django.contrib.postgres.indexes.GinIndex(
                fields=["partition_parameters"], name="partable_partition_parameters"
            ),
        ),
        migrations.AlterUniqueTogether(name="partitionedtable", unique_together={("schema_name", "table_name")}),
        # =====================================================
        # Partition ocpusagelineitemdailysummary
        migrations.AlterModelOptions(name="ocpusagelineitemdailysummary", options={"managed": False}),
        migrations.RunPython(code=convert_ocpusage_lids_to_partitioned),
        # =====================================================
        # Partition awscostentrylineitemdailysummary
        migrations.AlterModelOptions(name="awscostentrylineitemdailysummary", options={"managed": False}),
        migrations.RunPython(code=convert_awscostentry_lids_to_partitioned),
        # =====================================================
        # Partition azurecostentrylineitemdailysummary
        migrations.AlterModelOptions(name="azurecostentrylineitemdailysummary", options={"managed": False}),
        migrations.RunPython(code=convert_azurecostentry_lids_to_partitioned),
        migrations.AlterField(
            model_name="ocpstoragelineitem",
            name="persistentvolumeclaim_capacity_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpstoragelineitem",
            name="persistentvolumeclaim_capacity_bytes",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpstoragelineitem",
            name="persistentvolumeclaim_usage_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpstoragelineitem",
            name="volume_request_storage_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpstoragelineitemdaily",
            name="persistentvolumeclaim_capacity_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpstoragelineitemdaily",
            name="persistentvolumeclaim_capacity_bytes",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpstoragelineitemdaily",
            name="persistentvolumeclaim_usage_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpstoragelineitemdaily",
            name="volume_request_storage_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="node_capacity_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="node_capacity_cpu_cores",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="node_capacity_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="node_capacity_memory_bytes",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="pod_limit_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="pod_limit_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="pod_request_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="pod_request_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="pod_usage_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitem",
            name="pod_usage_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="cluster_capacity_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="cluster_capacity_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="node_capacity_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="node_capacity_cpu_cores",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="node_capacity_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="node_capacity_memory_bytes",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="pod_limit_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="pod_limit_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="pod_request_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="pod_request_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="pod_usage_cpu_core_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.AlterField(
            model_name="ocpusagelineitemdaily",
            name="pod_usage_memory_byte_seconds",
            field=models.DecimalField(decimal_places=9, max_digits=73, null=True),
        ),
        migrations.CreateModel(
            name="AWSTagsValues",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("value", models.CharField(max_length=253, unique=True)),
            ],
            options={"db_table": "reporting_awstags_values"},
        ),
        migrations.CreateModel(
            name="AzureTagsValues",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("value", models.CharField(max_length=253, unique=True)),
            ],
            options={"db_table": "reporting_azuretags_values"},
        ),
        migrations.CreateModel(
            name="OCPAWSTagsValues",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("value", models.CharField(max_length=253, unique=True)),
            ],
            options={"db_table": "reporting_ocpawstags_values", "unique_together": {("key", "value")}},
        ),
        migrations.CreateModel(
            name="OCPAzureTagsValues",
            fields=[
                ("uuid", models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ("key", models.TextField()),
                ("value", models.TextField()),
                (
                    "cluster_aliases",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
                (
                    "cluster_ids",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
                (
                    "namespaces",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
                (
                    "nodes",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
                (
                    "subscription_guids",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
            ],
            options={"db_table": "reporting_ocpazuretags_values", "unique_together": {("key", "value")}},
        ),
        migrations.CreateModel(
            name="OCPTagsValues",
            fields=[
                ("uuid", models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ("key", models.TextField()),
                ("value", models.TextField()),
                (
                    "cluster_aliases",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
                (
                    "cluster_ids",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
                (
                    "namespaces",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
                (
                    "nodes",
                    django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
                ),
            ],
            options={"db_table": "reporting_ocptags_values", "unique_together": {("key", "value")}},
        ),
        migrations.AddField(
            model_name="ocpawstagssummary",
            name="account_alias",
            field=models.ForeignKey(
                null=True, on_delete=django.db.models.deletion.SET_NULL, to="reporting.AWSAccountAlias"
            ),
        ),
        migrations.AddField(
            model_name="ocpawstagssummary", name="usage_account_id", field=models.CharField(max_length=50, null=True)
        ),
        migrations.AlterField(
            model_name="azuretagssummary", name="subscription_guid", field=models.TextField(null=True)
        ),
        migrations.AlterField(
            model_name="ocpawstagssummary", name="namespace", field=models.CharField(max_length=253, null=True)
        ),
        migrations.AlterField(
            model_name="ocpazuretagssummary", name="namespace", field=models.CharField(max_length=253, null=True)
        ),
        migrations.AlterField(
            model_name="ocpazuretagssummary", name="subscription_guid", field=models.TextField(null=True)
        ),
        migrations.AlterUniqueTogether(
            name="azuretagssummary", unique_together={("key", "cost_entry_bill", "subscription_guid")}
        ),
        migrations.AlterUniqueTogether(
            name="ocpawstagssummary", unique_together={("key", "cost_entry_bill", "usage_account_id", "namespace")}
        ),
        migrations.AlterUniqueTogether(
            name="ocpazuretagssummary", unique_together={("key", "cost_entry_bill", "subscription_guid", "namespace")}
        ),
        migrations.AlterField(
            model_name="ocpstoragevolumelabelsummary", name="namespace", field=models.CharField(max_length=253)
        ),
        migrations.AlterField(
            model_name="ocpusagepodlabelsummary", name="namespace", field=models.CharField(max_length=253)
        ),
        migrations.AlterField(
            model_name="ocpawscostlineitemdailysummary", name="node", field=models.CharField(max_length=253, null=True)
        ),
        migrations.AlterField(
            model_name="ocpawscostlineitemprojectdailysummary",
            name="node",
            field=models.CharField(max_length=253, null=True),
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemdailysummary",
            name="node",
            field=models.CharField(max_length=253, null=True),
        ),
        migrations.AlterField(
            model_name="ocpazurecostlineitemprojectdailysummary",
            name="node",
            field=models.CharField(max_length=253, null=True),
        ),
        migrations.AddField(model_name="partitionedtable", name="active", field=models.BooleanField(default=True)),
        migrations.RunSQL(
            sql="\nALTER TABLE partitioned_tables\n      ALTER COLUMN active SET DEFAULT true;\n        "
        ),
        migrations.RunPython(code=apply_partitioned_table_triggers),
        migrations.RemoveField(model_name="azuretagssummary", name="id"),
        migrations.RemoveField(model_name="ocpstoragevolumelabelsummary", name="id"),
        migrations.RemoveField(model_name="ocpusagepodlabelsummary", name="id"),
        migrations.RemoveField(model_name="awstagsvalues", name="id"),
        migrations.RemoveField(model_name="azuretagsvalues", name="id"),
        migrations.RemoveField(model_name="ocpawstagssummary", name="id"),
        migrations.RemoveField(model_name="ocpawstagsvalues", name="id"),
        migrations.RemoveField(model_name="ocpazuretagssummary", name="id"),
        migrations.RemoveField(model_name="ocpawstagssummary", name="cluster_alias"),
        migrations.RemoveField(model_name="ocpawstagssummary", name="cluster_id"),
        migrations.RemoveField(model_name="ocpazuretagssummary", name="cluster_alias"),
        migrations.RemoveField(model_name="ocpazuretagssummary", name="cluster_id"),
        migrations.AddField(
            model_name="awstagsvalues", name="key", field=models.TextField(default=""), preserve_default=False
        ),
        migrations.AddField(
            model_name="awstagsvalues",
            name="usage_account_ids",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="awstagsvalues",
            name="account_aliases",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="awstagsvalues",
            name="uuid",
            field=models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False),
        ),
        migrations.AddField(
            model_name="azuretagssummary",
            name="uuid",
            field=models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False),
        ),
        migrations.AddField(
            model_name="azuretagsvalues", name="key", field=models.TextField(default=""), preserve_default=False
        ),
        migrations.AddField(
            model_name="azuretagsvalues",
            name="subscription_guids",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="azuretagsvalues",
            name="uuid",
            field=models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False),
        ),
        migrations.AddField(model_name="ocpstoragevolumelabelsummary", name="node", field=models.TextField(null=True)),
        migrations.AddField(
            model_name="ocpstoragevolumelabelsummary",
            name="uuid",
            field=models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False),
        ),
        migrations.AddField(model_name="ocpusagepodlabelsummary", name="node", field=models.TextField(null=True)),
        migrations.AddField(
            model_name="ocpusagepodlabelsummary",
            name="uuid",
            field=models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False),
        ),
        migrations.AlterField(model_name="awstagsvalues", name="value", field=models.TextField()),
        migrations.AlterField(model_name="azuretagssummary", name="key", field=models.TextField()),
        migrations.AlterField(
            model_name="azuretagssummary",
            name="values",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), size=None),
        ),
        migrations.AlterField(model_name="azuretagsvalues", name="value", field=models.TextField()),
        migrations.AlterField(model_name="ocpstoragevolumelabelsummary", name="key", field=models.TextField()),
        migrations.AlterField(model_name="ocpstoragevolumelabelsummary", name="namespace", field=models.TextField()),
        migrations.AlterField(
            model_name="ocpstoragevolumelabelsummary",
            name="values",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), size=None),
        ),
        migrations.AlterField(model_name="ocpusagepodlabelsummary", name="key", field=models.TextField()),
        migrations.AlterField(model_name="ocpusagepodlabelsummary", name="namespace", field=models.TextField()),
        migrations.AlterField(
            model_name="ocpusagepodlabelsummary",
            name="values",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), size=None),
        ),
        migrations.AlterUniqueTogether(name="awstagsvalues", unique_together={("key", "value")}),
        migrations.AlterUniqueTogether(name="azuretagsvalues", unique_together={("key", "value")}),
        migrations.AddIndex(
            model_name="awstagsvalues", index=models.Index(fields=["key"], name="aws_tags_value_key_idx")
        ),
        migrations.AddIndex(
            model_name="azuretagsvalues", index=models.Index(fields=["key"], name="azure_tags_value_key_idx")
        ),
        migrations.AddIndex(
            model_name="ocptagsvalues", index=models.Index(fields=["key"], name="openshift_tags_value_key_idx")
        ),
        migrations.AddField(model_name="ocpawstagssummary", name="node", field=models.TextField(null=True)),
        migrations.AddField(
            model_name="ocpawstagssummary",
            name="report_period",
            field=models.ForeignKey(
                default="", on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
            ),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpawstagssummary",
            name="uuid",
            field=models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False),
        ),
        migrations.AddField(
            model_name="ocpawstagsvalues", name="key", field=models.TextField(default=""), preserve_default=False
        ),
        migrations.AddField(
            model_name="ocpawstagsvalues",
            name="account_aliases",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpawstagsvalues",
            name="cluster_aliases",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpawstagsvalues",
            name="cluster_ids",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpawstagsvalues",
            name="namespaces",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpawstagsvalues",
            name="nodes",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), null=True, size=None),
        ),
        migrations.AddField(
            model_name="ocpawstagsvalues",
            name="usage_account_ids",
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=[], size=None),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpawstagsvalues",
            name="uuid",
            field=models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False),
        ),
        migrations.AddField(model_name="ocpazuretagssummary", name="node", field=models.TextField(null=True)),
        migrations.AddField(
            model_name="ocpazuretagssummary",
            name="report_period",
            field=models.ForeignKey(
                default="", on_delete=django.db.models.deletion.CASCADE, to="reporting.OCPUsageReportPeriod"
            ),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="ocpazuretagssummary",
            name="uuid",
            field=models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False),
        ),
        migrations.AlterField(
            model_name="ocpawstagssummary",
            name="namespace",
            field=models.TextField(default=""),
            preserve_default=False,
        ),
        migrations.AlterField(model_name="ocpawstagsvalues", name="value", field=models.TextField()),
        migrations.AlterField(
            model_name="ocpazuretagssummary",
            name="namespace",
            field=models.TextField(default=""),
            preserve_default=False,
        ),
        migrations.AddIndex(
            model_name="ocpawstagsvalues", index=models.Index(fields=["key"], name="ocp_aws_tags_value_key_idx")
        ),
        migrations.AddIndex(
            model_name="ocpazuretagsvalues", index=models.Index(fields=["key"], name="ocp_azure_tags_value_key_idx")
        ),
        migrations.RunPython(code=add_views),
    ]
